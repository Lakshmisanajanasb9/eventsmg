{% extends "eventshome.html" %}
{% block head %}
    {{ super() }}
{% endblock %}

{% block content %}

    <!-- Login/Register Forms -->
    <div class="auth-container">
        <ul class="nav nav-tabs justify-content-center auth-tabs">
            <li class="nav-item">
                <a class="nav-link active" href="#" id="loginTab">Login</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" id="registerTab">Register</a>
            </li>
        </ul>

        <!-- Login Form -->
        <form id="loginForm" method="POST" action="{{ url_for('auth.login') }}" class="auth-form">
            <fieldset>
                <div class="mb-3">
                    <label for="loginEmail">Email:</label>
                    <input type="email" id="loginEmail" name="email" class="form-control" required />
                </div>
                <div class="mb-3">
                    <label for="loginPassword">Password:</label>
                    <input type="password" id="loginPassword" name="password" class="form-control" required />
                </div>
                <button type="submit" class="btn auth-btn w-100">Login</button>
                <div class="text-center mt-2">
                    <a href="#" id="switchToRegister" class="link-danger">Create Account</a>
                </div>
                <div class="text-center mt-2">
                    <a href="{{ url_for('auth.reset_request') }}" class="link-danger">Forgot Password?</a>
                </div>
            </fieldset>
        </form>

        <!-- Register Form -->
        <form id="registerForm" class="auth-form d-none" method="POST" action="{{ url_for('auth.register') }}">
            <fieldset>
                <div class="mb-3">
                    <label for="registerFirstName">First Name:</label>
                    <input type="text" id="registerFirstName" name="first_name" class="form-control" required />
                </div>
                <div class="mb-3">
                    <label for="registerLastName">Last Name:</label>
                    <input type="text" id="registerLastName" name="last_name" class="form-control" required />
                </div>
                <div class="mb-3">
                    <label for="registerEmail">Email:</label>
                    <input type="email" id="registerEmail" name="email" class="form-control" required />
                </div>
                <div class="mb-3">
                    <label for="registerPhone">Phone Number:</label>
                    <input type="tel" id="registerPhone" name="phone" class="form-control" required />
                </div>
                <div class="mb-3">
                    <label for="registerPassword">Password:</label>
                    <input type="password" id="registerPassword" name="password" class="form-control" required />
                </div>
                <button type="submit" class="btn auth-btn w-100">Register</button>
                <div class="text-center mt-2">
                    <a href="" id="switchToLogin" class="link-danger">Already have an account?</a>
                </div>
            </fieldset>
        </form>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2025 Event Booking. All Rights Reserved.</p>
    </footer>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Toggle Login/Register JS -->
    <script>
        const loginTab = document.getElementById('loginTab');
        const registerTab = document.getElementById('registerTab');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const switchToRegister = document.getElementById('switchToRegister');
        const switchToLogin = document.getElementById('switchToLogin');

        function showLogin() {
            loginForm.classList.remove('d-none');
            registerForm.classList.add('d-none');
            loginTab.classList.add('active');
            registerTab.classList.remove('active');
        }

        function showRegister() {
            registerForm.classList.remove('d-none');
            loginForm.classList.add('d-none');
            registerTab.classList.add('active');
            loginTab.classList.remove('active');
        }

        loginTab.addEventListener('click', (e) => { e.preventDefault(); showLogin(); });
        registerTab.addEventListener('click', (e) => { e.preventDefault(); showRegister(); });
        if (switchToRegister) switchToRegister.addEventListener('click', (e) => { e.preventDefault(); showRegister(); });
        if (switchToLogin) switchToLogin.addEventListener('click', (e) => { e.preventDefault(); showLogin(); });
    </script>


{% endblock %}
{% block footer %}{% endblock %}
</html>
